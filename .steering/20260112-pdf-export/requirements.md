# 要件定義: PDF/PPTXエクスポート機能

## PRDからの抽出

### ユーザーストーリー
情シス担当として、上司・経営層に提案するために、稟議書をPDF/PPTX形式でダウンロードしたい

### 受け入れ条件
- [ ] Markdown形式の稟議書をPDF形式でエクスポートできる
- [ ] 比較マトリクスをPPTX形式でエクスポートできる（Post-MVP）
- [ ] Google Docs形式で出力できる（OAuth認証必要）← Post-MVP

### GAP分析での指摘
- 現在の実装: コピー機能のみ
- 必要な機能: PDF/PPTXダウンロード

## 機能要件

### MVP（今回実装）

#### 1. 稟議書PDFエクスポート
- Markdownを整形されたPDFに変換
- 会社ロゴ/ヘッダー付きのビジネス文書スタイル
- 日本語フォント対応
- クライアントサイドでの生成（サーバー負荷軽減）

#### 2. 比較表CSVエクスポート（既存機能）
- 現在実装済み

### Post-MVP
- PPTX形式でのスライド生成
- Google Docs連携

## 技術選定

### PDFエクスポート
**選択肢**:
1. **@react-pdf/renderer** - Reactコンポーネントで直接PDF作成
2. **html2pdf.js** - HTMLをPDFに変換
3. **jsPDF** - プログラマティックにPDF生成

**採用**: `@react-pdf/renderer`
- 理由: 
  - Reactエコシステムとの相性が良い
  - 日本語対応可能（Noto Sans JP使用）
  - スタイリングの自由度が高い
  - クライアントサイドで完結

### 実装方針
1. Markdownをパースしてセクション分割
2. PDFコンポーネントでレンダリング
3. BlobURLでダウンロード

## UI設計

### 稟議書画面
```
[比較に戻る]  [編集] [コピー] [PDFダウンロード ▼] [再生成]
                              ├─ PDF
                              └─ PPTX (Coming Soon)
```

### ダウンロード時の動作
1. ボタンクリック
2. ローディング表示（1-2秒）
3. 自動ダウンロード開始
4. 完了通知（トースト）

## 制約事項

- PDFサイズ: A4縦固定
- フォント: Noto Sans JP（Google Fonts CDN）
- 最大ページ数: 10ページ程度
