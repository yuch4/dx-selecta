---
name: project-analyzer
description: プロジェクト状況を網羅的にチェックし、追加すべき機能や改善すべき点を洗い出すスキル。PRD/設計/実装の整合性チェック、機能ギャップ分析、改善提案レポートを出力。「プロジェクトを分析して」「ギャップ分析をして」「コードレビューして」などのリクエストに使用。実装は行わず分析と提案のみ。
allowed-tools: Read, Grep, Glob
user-invocable: true
---

# プロジェクト分析スキル

プロジェクト全体を読み取り専用で分析し、PRD/設計/実装の整合性チェック、機能ギャップ分析、改善提案レポートを出力する。

---

## 実施内容

- docs/*.md（PRD、アーキテクチャ、機能設計）を読み込み、現状の要件を把握
- src/ 配下の実装状況をスキャンし、実装済み/未実装機能を特定
- PRD vs 実装のギャップ分析（受け入れ条件との突合）
- コードベースの品質観点（パターン、構造、テスト網羅率）を評価
- 技術的負債の特定（TODO/FIXME、古いパターン、未使用コード）
- UX/DX改善の観点から追加すべき機能を提案
- セキュリティ・パフォーマンス観点での改善点を抽出
- テスト/ドキュメントの充足度チェック

## 禁止事項

- コードの修正や新規ファイルの作成
- テストの実行
- 外部APIへのアクセス
- 優先度の低い細かい指摘の羅列（重要度でフィルタする）

---

## 分析フレームワーク

### 1. PRD整合性チェック
- docs/product-requirements.md の受け入れ条件と実装の突合
- 各機能の実装完了度を評価

### 2. アーキテクチャ準拠チェック
- docs/architecture.md の設計方針との整合性
- レイヤー分離の遵守状況

### 3. 機能ギャップ分析
- MVP要件で未実装の機能
- Post-MVPで検討すべき機能の再評価

### 4. 品質・技術的負債
- コード品質の問題点
- 依存関係の問題
- テストカバレッジのギャップ

### 5. 改善提案
- 短期（すぐ対応すべき）
- 中期（次スプリント候補）
- 長期（将来的な検討事項）

---

## 実装完了度の記号

| 記号 | 意味 |
|------|------|
| ✅ | 完了 |
| 🔄 | 部分実装 |
| ❌ | 未実装 |

---

## 出力フォーマット

```markdown
# プロジェクト分析レポート

**分析日**: YYYY-MM-DD
**対象リポジトリ**: [リポジトリ名]

---

## エグゼクティブサマリー
[2-3文で全体評価と最重要ポイントを記載]

---

## 1. PRD実装状況

### コア機能(MVP)の実装度

| 機能 | 実装度 | 詳細 |
|------|--------|------|
| 機能A | ✅/🔄/❌ | ... |
| 機能B | ✅/🔄/❌ | ... |

### 受け入れ条件の達成状況
[各機能の受け入れ条件を突合し、未達成項目をリスト]

---

## 2. アーキテクチャ・コード品質

### 良い点
1. ...

### 改善が必要な点
1. [ファイル/領域] 問題の説明

---

## 3. 技術的負債

### Critical（早期対応推奨）
1. ...

### Moderate（計画的に対応）
1. ...

---

## 4. 追加すべき機能・改善提案

### 短期（1-2週間以内）
| 提案 | 理由 | 工数目安 |
|------|------|----------|
| ... | ... | S/M/L |

### 中期（1ヶ月以内）
| 提案 | 理由 | 工数目安 |
|------|------|----------|
| ... | ... | S/M/L |

### 長期（将来検討）
| 提案 | 理由 | 優先度 |
|------|------|--------|
| ... | ... | P2/P3 |

---

## 5. テスト・ドキュメント状況

### テスト
- カバレッジ: XX%（推定）
- ギャップ: [テストが不足している領域]

### ドキュメント
- [更新が必要なドキュメント]
- [不足しているドキュメント]

---

## 6. 推奨アクションプラン

### 今すぐ着手すべき（Top 3）
1. ...
2. ...
3. ...

### 次のマイルストーンで検討
1. ...
2. ...
```
