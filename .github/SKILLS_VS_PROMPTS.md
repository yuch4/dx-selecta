# Skills vs Prompts 使い分けガイド

GitHub Copilotの**Skills**と**Prompts**は両方ともClaudeの機能を拡張するが、設計思想と用途が異なる。

---

## 概要比較

| 項目 | Skills | Prompts |
|------|--------|---------|
| **格納場所** | `.github/skills/<name>/SKILL.md` | `.github/prompts/<name>.prompt.md` |
| **構造** | フォルダ形式（SKILL.md + references/scripts/assets） | 単一ファイル |
| **起動方法** | 会話中に**自動判定**で発火 | `/`コマンドで**明示的**に呼び出し |
| **設計思想** | 「オンボーディングガイド」- 専門エージェントに変換 | 「ショートカット」- 特定タスクへの入り口 |
| **入力** | 会話から取得 | `${input:...}`で明示的に入力 |

---

## Skills の特徴

### いつ使うか

- 複雑なワークフロー（3ステップ以上）
- ドメイン固有の知識やテンプレートが必要
- 「〇〇したい」と言うだけで自動発火させたい
- 参照スクリプトやアセットを同梱したい

### 構造

```
skill-name/
├── SKILL.md (必須)
│   ├── YAML frontmatter（name, description）
│   └── Markdown本体（ワークフロー、ルール）
├── references/      # 参照ドキュメント
├── scripts/         # 実行可能スクリプト
└── assets/          # テンプレート、画像など
```

### ベストプラクティス

1. **Concise is Key** - コンテキストウィンドウは共有資源。Claudeが既に知っていることは書かない
2. **Progressive Disclosure** - 3段階で読み込み
   - メタデータ（~100語）→ 常に読込
   - SKILL.md本体（<5k語）→ スキル発火時
   - 参照ファイル → 必要時のみ
3. **SKILL.mdは500行以下** - 超えたらreferencesに分割
4. **参照は1階層まで** - 深いネストを避け、SKILL.mdから直接リンク
5. **不要なファイルは作らない** - README.md, CHANGELOG.mdなどは不要
6. **descriptionが重要** - トリガーワード、ユースケースを網羅

### 自由度の設定

| 自由度 | 使用場面 | 形式 |
|--------|----------|------|
| 高 | 複数アプローチが有効 | テキスト指示 |
| 中 | 好ましいパターンがある | 擬似コード |
| 低 | エラーが致命的 | 具体的スクリプト |

---

## Prompts の特徴

### いつ使うか

- `/`コマンドで明確に呼び出したい
- 毎回同じ入力項目を求めるタスク
- 既存スキルへのショートカットを作りたい
- 出力フォーマットを厳密に固定したい

### 構造

```markdown
---
description: 何をする / いつ使う
---

# タイトル

## 入力
- 項目1: ${input:name:説明}

## 参照
- 関連スキル: `.github/skills/xxx/SKILL.md`

## 実行手順
1. ...
2. ...

## 出力フォーマット
（固定形式で定義）
```

### ベストプラクティス

1. **Frontmatter重視** - `description`で「何をする/いつ使う」を明確に
2. **入力変数の設計** - `${input:...}`を活用、期待値・選択肢を説明に含める
3. **出力フォーマット固定** - 章立て/表/チェックリストで毎回ブレない
4. **重複排除** - ルールはskillsに寄せ、promptにコピペしない
5. **tools最小化** - read/search中心、edit/executeは必要時のみ

---

## 使い分けの判断フロー

```
Q1: 複雑なワークフロー（3ステップ以上）or ドメイン知識が必要？
 ├─ Yes → Skill を作成
 └─ No ↓

Q2: 毎回同じ入力パラメータを求める？ or /コマンドで明示呼び出ししたい？
 ├─ Yes → Prompt を作成
 └─ No → copilot-instructions.md に追記で十分かも
```

---

## 推奨パターン

```
【核となる知識・ワークフロー】
     │
     ▼
   Skill（SKILL.md + references/）
     │
     │ 参照
     ▼
   Prompt（入力テンプレート + Skill参照）
     │
     │ /コマンドで起動
     ▼
   ユーザー
```

**核となる知識はSkillに集約し、特定ユースケースへのショートカットとしてPromptを作成**する形が保守性が高い。

---

## 実例：X投稿生成

| 項目 | Skill | Prompt |
|------|-------|--------|
| **ファイル** | `x-buzz-post-generator/SKILL.md` | `x-buzz-post.prompt.md` |
| **起動** | 「バズる投稿作って」で自動発火 | `/x-buzz-post`で明示呼び出し |
| **内容** | 23パターン定義、作成ルール | Skill参照 + ナレッジ確認ステップ |
| **入力** | 会話から取得 | `${input:topic}`で明示入力 |

---

## チェックリスト

### Skill作成時

- [ ] descriptionにトリガーワードを網羅したか
- [ ] SKILL.mdは500行以下か
- [ ] 詳細情報はreferencesに分離したか
- [ ] 参照は1階層までか
- [ ] 不要なREADME.mdなどを含めていないか

### Prompt作成時

- [ ] descriptionで「何をする/いつ使う」を明記したか
- [ ] `${input:...}`で再利用可能にしたか
- [ ] 出力フォーマットを固定したか
- [ ] 既存Skillを参照して重複を排除したか
- [ ] toolsは最小限か
